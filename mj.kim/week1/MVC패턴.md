# MVC 패턴

## Model-View-Controller Pattern

> UI와 비지니스 로직을 분리하여 구조화하는 방법

소프트웨어 디자인 패턴 중 하나이며, 애플리케이션을 구성하는 주요 요소를 아래 세 가지 역할로 분리

<img style="height: 300px" src="./img/mvc-pattern.png">

> Action : 사용자의 입력

MVC패턴에서는 각각의 역할이 분리되어 있으므로, 서로 간의 영향을 최소화하고, 유지보수성을 높일 수 있음

예를 들어, 뷰의 변경이 모델에 영향을 미치지 않으며, 모델의 변경이 뷰에 영향을 미치지 않기 때문에 애플리케이션의 테스트와 유지보수를 용이하게 만들 수 있음

#### 1. Model

- 애플리케이션의 비지니스 로직과 데이터를 다루는 부분
- 데이터베이스나 파일 시스템과 같은 데이터 소스를 처리하고, 데이터를 저장하고 수정하며, 필요에 따라 데이터를 가져오고 제공함

#### 2. View

- 사용자가 보는 UI부분을 담당
- 사용자 인터페이스를 표시하고 사용자 입력을 수신하며, 모든 UI와 관련된 작업을 처리합니다.

#### 3. Controller

- `Model`과 `View`를 연결하고 상호작용할 수 있도록 하는 부분
- 사용자가 `View`에서 요청한 데이터를 `Model`에서 가져오거나, `View`에게 `Model`의 변경 사항을 전달하며, 필요에 따라 `View`와 `Model` 간의 통신을 관리

### MVC 모델의 동작 순서

1. 사용자의 Action들은 Controller에 들어오게 됨
2. Controller는 사용자의 Action을 확인하고, Model을 업데이트
3. Controller는 Model을 나타내 줄 View를 선택
4. View는 Model을 이용하여 화면을 나타냄

##### \* 참고 - MVC에서 View가 업데이트 되는 방법

- View가 Model을 이용하여 직접 업데이트 하는 방법
- Model에서 View에게 Notify하여 업데이트 하는 방법
- View가 Polling방식을 이용해서 주기적으로 Model의 변경을 감지하여 업데이트 하는 방법

### MVC 패턴의 장단점

#### `장점`

- 유지보수성 : 각각의 역할이 명확하게 분리되어 있기 때문에 코드 유지보수가 쉬움
- 재사용성 : 코드의 재사용성이 높음. Model, View, Controller의 각 역할이 분리되어 있기 때문에, 동일한 기능을 가진 모델, 뷰, 컨트롤러를 다른 프로젝트에서도 재사용할 수 있음
- 테스트 용이성 : MVC패턴은 각 역할이 분리되어 있기 때문에, <span style="color: red">유닛 테스트(Unit Test)</span>가 용이
  > 유닛 테스트 : 소프트웨어 개발에서 코드의 일부 또는 모듈이 의도된 대로 작동하는지를 확인하기 위해 수행되는 테스트 방법 (JS에선 유닛 테스트 프레임워크로 Jest를 사용)
- 확장성 : 각각의 역할이 분리되어 있기 때문에, 하나의 역할만 수정하여 새로운 기능을 추가하거나, 새로운 역할을 추가하는 등의 확장이 쉬움.

#### `단점`

- 복잡성 : MVC 패턴은 복잡성이 높음. 세 가지 역할이 모두 필요하기 때문에, 코드량이 많아지고, 개발 시간이 길어질 수 있음.
- 학습 곡선 : MVC 패턴은 비교적 복잡한 패턴 중 하나이기 때문에, 처음 학습할 때는 어려울 수 있음
- 파일 분산 : 모델, 뷰, 컨트롤러를 각각 다른 파일로 분산시키기 때문에, 관리하기가 어려움

##### 종합적으로, MVC 패턴은 유지보수성과 확장성이 높은 장점이 있지만, 코드의 복잡성이 높아 학습 곡선이 높은 단점이 있음.

> 따라서, 프로젝트의 규모와 복잡도에 따라 적합한 패턴을 선택하는 것이 중요

<br />

### MVC 패턴의 단점을 보완할 다른 패턴들

MVC패턴은 각각의 역할이 분리되어 유지보수와 확장성을 높여주는 장점이 있지만, 프로젝트가 커지거나 복잡해지면 컨트롤러가 비대해지거나 모델과 뷰 간의 관계가 복잡해지는 단점이 존재. 이러한 단점을 보완하기위해 아래와 같은 패턴들이 제안됨

#### 1. MVP(Model-View-Presenter) 패턴

> MVP 패턴은 MVC 패턴에서 컨트롤러를 분리하여 Presenter라는 개념으로 대체한 패턴

<img style="height: 300px" src="./img/mvp-pattern.png">

Presenter은 View와 Model의 중계하는 역할을 수행하며, View에서 발생하는 이벤트를 처리하고 Model에서 데이터를 가져와서 View에 전달.

이렇게 함으로써 <b>컨트롤러의 역할을 분리하고 View와 Model 사이의 의존성을 줄이면서 확장성과 유지보수성을 높일 수 있음</b>

#### 2. MVVM(Model-View-ViewModel) 패턴

> View와 Model 사이에 ViewModel이라는 개념을 도입하여 View와 Model사이의 의존성을 줄이는 패턴

<img style="height: 300px" src="./img/mvvm-pattern.png">

ViewModel은 View에서 사용하는 데이터를 모델로부터 가져와서 가공한 후, View에 전달하는 역할을 수행.

이렇게 함으로써 <b>View와 Model사이의 의존성을 제거하고 View와 ViewModel 사이의 바인딩을 통해 데이터 변경을 쉽게 처리할 수 있음</b>

#### 3. Clean Architecture

> 소프트웨어 시스템을 유지보수 가능하고 확장 가능한 구조로 설계하는 방법론 중 하나

해당 방법론은 독립적으로 변화할 수 있는 모듈로 시스템을 구성하며, MVC패턴에서는 Model이 해당됨.

이렇게 함으로써, <b>시스템의 각 요소가 분리되어 있어 유연하게 변화할 수 있으며, 테스트 용이성과 유지보수성을 높일 수 있음</b>

### 질문지

1. 사용자의 요청(입력)을 Action이라고 가정하고 MVC 패턴의 동작 순서를 설명해보시오
2. MVC 패턴의 단점을 보완하기 위해 나온 다른 패턴들은?
3. MVC 패턴에 맞게 아주 간단한 코드 작성해보시오. (increment, decrement하는 count 문제)
